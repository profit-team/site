{% form_theme form_properties '@CMS/Form/bootstrap_wide.html.twig' %}
{{ form_widget(form_properties) }}

<style type="text/css" media="screen">
    .ace_editor * {
        font-family: consolas, Courier, monospace;
        font-size: 14px;
    }

    #ace_params_yaml,
    #smart_module_widget_node_properties_params,
    #ace_open_tag,
    #smart_module_widget_node_properties_open_tag,
    #ace_close_tag,
    #smart_module_widget_node_properties_close_tag
    {
        font-family: consolas, Courier, monospace;
        font-size: 14px;
        width: 100%;
        height: 200px;
    }
</style>

<script src="{{ asset('bundles/felib/ace/ace.js') }}" type="text/javascript" charset="utf-8"></script>
<script>
    $('#smart_module_widget_node_properties_params_control_group > .controls').append('<div id="ace_params_yaml" />');
    var editor = ace.edit("ace_params_yaml");
    var textarea = $('#smart_module_widget_node_properties_params').hide();
    editor.setTheme("ace/theme/github");
    editor.getSession().setMode("ace/mode/yaml");
    editor.getSession().setValue(textarea.val());
    editor.getSession().on('change', function(){
        textarea.val(editor.getSession().getValue());
    });

    $('#smart_module_widget_node_properties_open_tag_control_group > .controls').append('<div id="ace_open_tag" />');
    var editor2 = ace.edit("ace_open_tag");
    var textarea2 = $('#smart_module_widget_node_properties_open_tag').hide();
    editor2.setTheme("ace/theme/github");
    editor2.getSession().setMode("ace/mode/html");
    editor2.getSession().setValue(textarea2.val());
    editor2.getSession().on('change', function(){
        textarea2.val(editor2.getSession().getValue());
    });

    $('#smart_module_widget_node_properties_close_tag_control_group > .controls').append('<div id="ace_close_tag" />');
    var editor3 = ace.edit("ace_close_tag");
    var textarea3 = $('#smart_module_widget_node_properties_close_tag').hide();
    editor3.setTheme("ace/theme/github");
    editor3.getSession().setMode("ace/mode/html");
    editor3.getSession().setValue(textarea3.val());
    editor3.getSession().on('change', function(){
        textarea3.val(editor3.getSession().getValue());
    });
</script>
