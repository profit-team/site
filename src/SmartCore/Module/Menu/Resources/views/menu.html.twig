{% if not depth %}
    {% set depth = null %}
{% endif %}

{% if not current_class %}
    {% set current_class = 'current' %}
{% endif %}

{% set menu = knp_menu_get('MenuModule:MenuBuilder:full', [], {
    'group': group,
    'css_class': css_class,
    'depth': depth,
}) %}

{#
    Default options in \Knp\Menu\Renderer\TwigRenderer

    'depth' => null,
    'matchingDepth' => null,
    'currentAsLink' => true,
    'currentClass' => 'current',
    'ancestorClass' => 'current_ancestor',
    'firstClass' => 'first',
    'lastClass' => 'last',
    'template' => $template,
    'compressed' => false,
    'allow_safe_labels' => false,
    'clear_matcher' => true,
    'leaf_class' => null,
    'branch_class' => null,

    In CMS $template = "CMSBundle:Menu:knp_menu.html.twig"
#}
{{ knp_menu_render(menu, {
    'currentAsLink': true,
    'currentClass': current_class,
    'compressed': true,
    'depth': depth,
}) }}
